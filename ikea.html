<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>宜家</title>
    <link rel="stylesheet" href="css/common.css">
    <style>
        /* 轮播图 */
        .banner{
            height:450px;
            position: relative;
            overflow:hidden ;
        }
        .bannerImg{
            height:450px;
            position: absolute;
        }
        .bannerImg img{
            float:left;
        }
        .banner span{
            display:block;
            width:50px;
            height:50px;
            border-radius:25px;
            background: rgba(0,0,0,.1);
            text-align: center;
            line-height: 50px;
            font-size:30px;
            font-weight:900;
            position:absolute;
            top:200px;
            color:#fff;
            cursor: pointer;
        }
        .banner span:nth-of-type(1){
            left:20px;
        }
        .banner span:nth-of-type(2){
            right:20px;
        }
        .banner span:hover{
            color:skyblue;
            background:white;
        }

        .radiusBox{
            width:100%;
            height:20px;
            position: absolute;
            bottom:10px;
            display:flex;
            justify-content: center;
        }
        .radiusBox li{
            width:20px;
            height:20px;
            border-radius: 10px;
            background:#ccc;
            margin:0 5px;
            cursor: pointer;
        }
        .radiusBox .active{
            background:grey;
        }
        
    </style>
</head>
<body>
    <section class="main headsec">
        <div>
            <img src="images/ikea_logo.svg" class="ikealogo" alt="">
            <form action="javascript:void(0)">
                <input type="text" class="inputBox" list="userList">
                <datalist id="userList"></datalist>
                <button class="searchBtn">搜索</button>
            </form>
            <span>欢迎来到宜家中国</span>
        </div>
        <div class="headsec2d">
            <div>
                <a href="http://127.0.0.1/work/html/cart.html" class="min_size">
                    <img src="images/cart_big.png" alt="">购物车
                </a>
            </div>
            <div>
                <ul>
                    <li><a href="">选择本地商场</a></li>
                    <li><a href="">宜家俱乐部</a></li>
                    <li><a href="">常见问题</a></li>
                </ul>
            </div>
            <div>
                <ul class="exitloginf">
                    <li><a href="">我的心愿单</a></li>
                    <li><a href="">我的帐户</a></li>
                    <li><a href="html/login.html" id="ishowun">登录</a></li>
                    <li><span class="exitlogin">退出登录</span></li>
                </ul>
            </div>
        </div>
    </section>
    <!-- 导航 -->
    <nav class="mainMenu main">
        <ul>
            <li><a href="html/allproduct.html">所有产品</a></li>
            <li><a href="">新品</a></li>
            <li><a href="">创意灵感</a></li>
            <li><a href="">卧室</a></li>
            <li><a href="">浴室</a></li>
            <li><a href="">客厅</a></li>
            <li><a href="">厨房</a></li>
            <li><a href="">餐厅</a></li>
            <li><a href="">儿童房</a></li>
            <li><a href="">纺织品</a></li>
            <li><a href="">户外</a></li>
            <li><a href="">书房</a></li>
            <li><a href="">阳台</a></li>
            <li><a href="">瑞典美食屋</a></li>
            <li><a href="">宜家对公业务部</a></li>
            <li><a href="">所有房间</a>
                <div>
                    <ul>
                        <li><a href="">书房</a></li>
                        <li><a href="">储物</a></li>
                        <li><a href="">储藏</a></li>
                        <li><a href="">儿童</a></li>
                        <li><a href="">卧室</a></li>
                        <li><a href="">厨房</a></li>
                        <li><a href="">厨具</a></li>
                        <li><a href="">宜家</a></li>
                        <li><a href="">宠物</a></li>
                        <li><a href="">客厅</a></li>
                        <li><a href="">家具</a></li>
                        <li><a href="">家用</a></li>
                        <li><a href="">户外</a></li>
                    </ul>
                </div>
            </li>
        </ul>
    </nav>
    <!-- 轮播图 -->
    <section class="banner main">
        <div class="bannerImg">
            <!-- <img src="" alt=""> -->
        </div>
        <span>&lt;</span>
        <span>&gt;</span>
        <ol class="radiusBox">
            <!-- <li class="active"></li>
            <li></li> -->
        </ol>
    </section>
    <!-- 底部 -->
    <div id="footer" class="main">
        <div class="linksWrapper">
            <div class="linkContainer linkContainerFirst">
                <h2 class="header">
                    <a class="link" href="/ms/zh_CN/customer-service/about-shopping/catalogue-and-brochures/index.html"> 
                        2019宜家《家居指南》
                    </a>
                </h2>
                    <a class="link" href="https://onlinecatalogueasia.ikea.com/CN/zh-hans/IKEA_Catalogue/">
                        在线阅读
                    </a>
            </div>
            <div class="linkContainer"><h2 class="header">
                <a href="/ms/zh_CN/customer-service/index.html">客户服务</a></h2>
                <a href="/ms/zh_CN/customer_service/guide_to_ikea/index.html">购物攻略</a>
                <a href="https://www.ikea.cn/ms/zh_CN/ikny_splash.html">宜家商场</a>
                <a href="/ms/zh_CN/customer-service/our-services.html">我们的服务</a>
                <a href="/ms/zh_CN/customer-service/about-shopping/return-policy.html">退换货政策</a>
                <a href="/ms/zh_CN/customer-service/contact-us/index.html">联系我们</a>
                <a href="/ms/zh_CN/customer_service/faq/index.html">常见问题</a>
            </div>
            <div class="linkContainer">
                <h2 class="header"><a href="/ms/zh_CN/this-is-ikea/index.html">这就是宜家</a></h2>
                <a href="/ms/zh_CN/this-is-ikea/the-ikea-concept/index.html">宜家理念</a>
                <a href="/ms/zh_CN/this-is-ikea/democratic-design/index.html">民主设计</a>
                <a href="/ms/zh_CN/this-is-ikea/about-the-ikea-group/index.html">关于宜家</a>
                <a href="/ms/zh_CN/this-is-ikea/people-and-planet/index.html">益于人类 益于地球</a>
            </div>
            <div class="linkContainer">
                <h2 class="header"><a href="/ms/zh_CN/this-is-ikea/working-at-the-ikea-group/index.html">工作在宜家</a></h2>
                <a href="/ms/zh_CN/this-is-ikea/available-jobs/index.html">现在就申请</a>
            </div>
                <div class="linkContainer">
                <h2 class="header"><a href="/ms/zh_CN/about_ikea/newsroom/press_contacts/index.html">新闻联络</a></h2>
            </div>
            <div class="linkContainer lastLinkContainer">
                <h2 class="header"><a href="/cn/zh/about_ikea/newsroom">新闻室</a></h2>
            </div>
            <!-- <div class="clearAll"></div> -->
        </div> 
        <div class="copyRight" id="txtCopyFooter">
            © Inter IKEA Systems B.V. 1999 - 2019
            <span class="linkDivider">|</span>                            
            <a href="/ms/zh_CN/privacy_policy/privacy_policy.html">
                隐私政策
            </a>
            <span class="linkDivider">|</span>                            
            <a href="/ms/zh_CN/terms_conditions/terms_conditions.html">
                使用条款
            </a>
            <span class="linkDivider">|</span>                            
            <a href="https://www.sgs.gov.cn/lz/licenseLink.do?method=licenceView&amp;entyId=20171225174146649">
                <img src="images/Icon_Business_License.jpg" width="50" height="18">
            </a>
            <span class="linkDivider">|</span>                            
            <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31010402001069">
                沪公网安备 31010402001069号
            </a>
            <span class="linkDivider">|</span>
            <a href="http://www.miibeian.gov.cn/" rel="blank">
                沪ICP备17055232号-1 
            </a>
        </div>
    </div>

    
</body>
</html>
<script src="js/myApi.js"></script>
<script src="js/cookie.js"></script>
<script src="js/move.js"></script>
<script src="js/common.js"></script>

<script>
    function addBanner(){
        this.aBanner = document.querySelector('.bannerImg');
        this.str = '';
        this.init();
    }
    addBanner.prototype = {
        init : function(){
            this.add();
        },
        add : function(){
            for(var i = 0 ; i < 5 ; i++){
                this.str += `
                    <img src="images/banner-${i}.jpg" alt="">
                `
            }
            this.aBanner.innerHTML = this.str;
        }
    }
    new addBanner();

    function bannerMove(){
        this.oBanner =  document.querySelector('.banner'),
        this.oRadiusBox = document.querySelector('.radiusBox'),
        this.oImgBox = document.querySelector('.bannerImg'),
        // query aimg 长度要加一
        this.aImg = this.oImgBox.querySelectorAll('.bannerImg img'),
        this.aSpan = document.querySelectorAll('.banner span'),
        this.count = 0,
        this.distance = this.aImg[0].offsetWidth;
        this.timer = null;
        this.cloneFirst = this.aImg[0].cloneNode();
        this.init();
    }
    bannerMove.prototype = {
        init : function(){
            //克隆的节点添加到父级
            this.oImgBox.appendChild(this.cloneFirst);
            //动态设置imgBox 的宽度
            this.oImgBox.style.width = (this.aImg.length + 1) * this.aImg[0].offsetWidth + 'px';
            this.eventbind();
            this.autoPlay();
            this.addRadius();
            this.circleEvent();
        },
        toImg : function(){
            move(this.oImgBox,{'left':- this.count * this.distance});
        },
        nextImg : function(){
            if(this.count >= this.aImg.length ){
                this.oImgBox.style.left = 0;     //如果count大于图片长度 - 1    直接让oImgBox  left 为0
                this.count = 1
            }else{
                this.count++;
            }
            this.toImg()
            this.clearActive();
            this.aRadius[this.count >= this.aImg.length  ? 0 : this.count  ].className = 'active';
        },
        preImg : function(){
            if(this.count <= 0){
                //注意 
                //加 px 啊啊!!!!!
                this.oImgBox.style.left = - (this.aImg.length ) * this.distance + 'px';
                this.count = this.aImg.length - 1;
            }else{
                this.count--;
            }
            this.toImg()
            this.clearActive();
            this.aRadius[this.count].className = 'active';
        },
        //自动滚动
        autoPlay : function(){
            var _this = this;
            this.timer = setInterval(() => {
                _this.nextImg();
            },3000)
        },
        //添加圆点
        addRadius : function(){
            for(var i = 0 ; i < this.aImg.length  ; i++){
                var createLi = document.createElement('li');
                this.oRadiusBox.appendChild(createLi);
            }
            this.aRadius = this.oRadiusBox.querySelectorAll('li');
            this.aRadius[0].className = 'active';
        },
        //清除圆点的leiming
        clearActive : function(){
            for(var k = 0 ; k < this.aRadius.length  ; k++){
                this.aRadius[k].className = '';
            }
        },
        //给圆点添加事件
        circleEvent : function(){
            var _this = this;
            for(var i = 0 ; i < this.aRadius.length  ; i++){
                this.aRadius[i].index = i;
                this.aRadius[i].onmouseover = function(){
                    _this.clearActive()
                    this.className = 'active';
                    _this.count = this.index;
                    _this.toImg()
                }
            }
        },

        eventbind : function(){
            var _this = this;
            this.aSpan[1].onclick = function(){
                _this.nextImg()
            };
            this.aSpan[0].onclick = function(){
                _this.preImg()
            };
            //鼠标滑过定时器关闭
            this.oBanner.onmouseover = function(){
                clearInterval(_this.timer);
            };
            this.oBanner.onmouseout = function(){
                _this.autoPlay();
            };

        }
    }
    window.onload = function(){
        new bannerMove();
    }

    
    
</script>
<script>

</script>